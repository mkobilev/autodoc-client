<section class="section" class="section column is-half is-offset-one-quarter">
  <mat-horizontal-stepper [linear]="true" #stepper>
    <mat-step [stepControl]="firstFormGroup">
      <form [formGroup]="firstFormGroup">
        <ng-template matStepLabel>Пункт назначения</ng-template>
        
        <div class="field">
          <label class="label">Страна</label>
          <div class="control has-icons-left has-icons-right">
            <input class="input" placeholder="Россия" formControlName="dst_country" type="text" required>
            <span class="icon is-small is-right" *ngIf="requiredDstCountryError">
              <i class="fas fa-exclamation-triangle"></i>
            </span>
            <p class="help is-danger" *ngIf="requiredDstCountryError">Поле Страна не должно быть пустым</p>
          </div>
        </div>
        
        <div class="field">
          <label class="label">Населенный пункт</label>
          <div class="control has-icons-left has-icons-right">
            <input class="input" placeholder="Москва" formControlName="dst_city" type="text" required>
            <span class="icon is-small is-right" *ngIf="requiredDstCityError">
              <i class="fas fa-exclamation-triangle"></i>
            </span>
            <p class="help is-danger" *ngIf="requiredDstCityError">Поле Населенный пункт не должно быть пустым</p>
          </div>
        </div>

        <div class="field">
          <label class="label">Организация</label>
          <div class="control has-icons-left has-icons-right">
            <input class="input" placeholder="МГУ" formControlName="dst_organization" type="text" required>
            <span class="icon is-small is-right" *ngIf="requiredDstOrganizationError">
              <i class="fas fa-exclamation-triangle"></i>
            </span>
            <p class="help is-danger" *ngIf="requiredDstOrganizationError">Поле Организация не должно быть пустым</p>
          </div>
        </div>
      </form>
      <div class="buttons-bar">
        <button class="button" matStepperNext>Далее</button>
      </div>
    </mat-step>
  
    <mat-step [stepControl]="secondFormGroup">
      <form [formGroup]="secondFormGroup">
        <ng-template matStepLabel>Информация о датах</ng-template>

        <div class="field" *ngIf="role=='collaborator'">
          <label class="label">Срок, не считая времени нахождения в пути</label>
          <div class="control has-icons-left has-icons-right">
            <input class="input" formControlName="term_without_transfer" type="text" required>
            <span class="icon is-small is-right" *ngIf="requiredTermWithoutTransferError">
              <i class="fas fa-exclamation-triangle"></i>
            </span>
            <p class="help is-danger" *ngIf="requiredTermWithoutTransferError">Поле не должно быть пустым</p>
          </div>
        </div>

        <div class="field">
          <label class="label">Дата начала</label>
          <div class="control">
            <div class="date">
              <input class="input" [matDatepicker]="startDatePicker" formControlName="start_date" type="text" required>
              <mat-datepicker-toggle matSuffix [for]="startDatePicker"></mat-datepicker-toggle>
              <mat-datepicker #startDatePicker></mat-datepicker>
            </div>
            <p class="help is-danger" *ngIf="requiredStartDateError">Поле Дата начала не должно быть пустым</p>
          </div>
        </div>

        <div class="field">
          <label class="label">Дата окончания</label>
          <div class="control">
            <div class="date">
              <input class="input" [matDatepicker]="finishDatePicker" formControlName="finish_date" type="text" required>
              <mat-datepicker-toggle matSuffix [for]="finishDatePicker"></mat-datepicker-toggle>
              <mat-datepicker #finishDatePicker></mat-datepicker>
            </div>
            <p class="help is-danger" *ngIf="requiredFinishDateError">Поле Дата окончания не должно быть пустым</p>
          </div>
        </div>

        <div class="buttons-bar">
          <button class="button" matStepperPrevious>Назад</button>
          <button class="button" matStepperNext>Далее</button>
        </div>
      </form>
    </mat-step>
  
  
    <mat-step [stepControl]="thirdFormGroup">
      <form [formGroup]="thirdFormGroup">
        <ng-template matStepLabel>Дополнительно</ng-template>

        <div class="field">
          <label class="label">Цель</label>
          <div class="control has-icons-left has-icons-right">
            <input class="input" formControlName="goal" type="text" required>
            <span class="icon is-small is-right" *ngIf="requiredGoalError">
              <i class="fas fa-exclamation-triangle"></i>
            </span>
            <p class="help is-danger" *ngIf="requiredGoalError">Поле не должно быть пустым</p>
          </div>
        </div>

        <div class="field">
          <label class="label">Основание</label>
          <div class="control has-icons-left has-icons-right">
            <input class="input" formControlName="reason" type="text" required>
            <span class="icon is-small is-right" *ngIf="requiredReasonError">
              <i class="fas fa-exclamation-triangle"></i>
            </span>
            <p class="help is-danger" *ngIf="requiredReasonError">Поле не должно быть пустым</p>
          </div>
        </div>
        <div class="buttons-bar">
          <button class="button" matStepperPrevious>Назад</button>
          <button class="button" matStepperNext>Далее</button>
        </div>
      </form>
    </mat-step>
    <mat-step>
      <ng-template matStepLabel>Done</ng-template>
      You are now done.
      <div class="buttons-bar">
        <button class="button" matStepperPrevious>Назад</button>
        <button class="button" (click)="stepper.reset()">Сбросить</button>
        <button class="button" (click)="createClaim()">Подать заявку</button>
      </div>
    </mat-step>
  </mat-horizontal-stepper>
</section>

